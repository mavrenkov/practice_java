{
  "name": "verifyRestrictedAccountsForOutOfFlowNewServiceFlowFor306RuleID()",
  "id": "[engine:junit-jupiter]/[class:com.edwardjones.platform_ui_tests.testcases.OutOfRestrictionsNewServicePart3Test]/[method:verifyRestrictedAccountsForOutOfFlowNewServiceFlowFor306RuleID()]",
  "scenarioId": "[engine:junit-jupiter]/[class:com.edwardjones.platform_ui_tests.testcases.OutOfRestrictionsNewServicePart3Test]",
  "testCaseName": "com.edwardjones.platform_ui_tests.testcases.OutOfRestrictionsNewServicePart3Test",
  "methodName": "verifyRestrictedAccountsForOutOfFlowNewServiceFlowFor306RuleID",
  "testSteps": [
    {
      "number": 1,
      "description": "Retrieve random data from DB2: EJ account, ownership ruleID\u003d306, for restriction\u003dBR_9979",
      "duration": 5382,
      "startTime": "2025-10-06T11:30:48.511613169-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "fbf9f581d7db7e6c7c87a9a8b0b975152ba8b717795e405357efba3ef6780f6a.png",
          "timeStamp": 1759768253894,
          "screenshotName": "fbf9f581d7db7e6c7c87a9a8b0b975152ba8b717795e405357efba3ef6780f6a.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0,
      "children": [
        {
          "number": 2,
          "description": "Retrieve data from DB2: EJ account, ownership ruleID\u003d306, branch BR_9979, ACCT_SVC_TY_CD AV, ACCT_SVC_STAT_CD A",
          "duration": 5376,
          "startTime": "2025-10-06T11:30:48.513083111-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "fbf9f581d7db7e6c7c87a9a8b0b975152ba8b717795e405357efba3ef6780f6a.png",
              "timeStamp": 1759768253889,
              "screenshotName": "fbf9f581d7db7e6c7c87a9a8b0b975152ba8b717795e405357efba3ef6780f6a.png"
            }
          ],
          "result": "SUCCESS",
          "reportData": [
            {
              "title": "SQL query",
              "contents": "select\nacct.ACCT_ID, acct.CUST_NO,\nrlt.RLTSHP_ID AS RLTSHP_ID,\nacct_svc.ACCT_SVC_TY_CD, acct_svc.ACCT_SVC_STAT_CD, acct.ACCT_OWN_RULE_ID,\ncontact.CON_ID, contact.DEATH_DA,\nhq_system_restrictions.ACH_DB_ALLW_IND, hq_system_restrictions.ACH_CR_ALLW_IND,\nsub_acc.BR_NO,\nus_sub_acc.EDJ_ACCT_PRFD_NA as ACCT_PREFERRED_NAME\n\nfrom PROD.RLTSHP_13120 rlt\njoin PROD.ACCT_FUNC_GRP_DTL_13088 grp on rlt.ACCT_FUNC_GRP_ID \u003d grp.ACCT_FUNC_GRP_ID\njoin PROD.ACCOUNT_12280 as acct on grp.ACCT_ID \u003d acct.ACCT_ID\njoin PROD.SUB_ACCOUNT_12512 as sub_acc on sub_acc.ACCT_ID\u003dacct.ACCT_ID\njoin PROD.SUBACCT_SVC_12569 as acct_svc on acct_svc.ACCT_ID\u003dacct.ACCT_ID\njoin PROD.CONTACT_12250 as contact on contact.CON_ID  \u003d sub_acc.TAX_RPT_CON_ID\njoin PROD.US_SUB_ACCT_13603 as us_sub_acc on sub_acc.ACCT_ID \u003d us_sub_acc.ACCT_ID\nleft outer join PROD.DB_CR_ALLW_11903 as hq_system_restrictions on hq_system_restrictions.ACCT_ID \u003d acct.ACCT_ID\n\nwhere\nacct.TAX_RPT_CTRY_CD\u003d\u0027US\u0027\nand acct.ACCT_OWN_RULE_ID\u003d306\nand sub_acc.br_no   \u003d 9979\n\n--account is not deleted and closed\nand acct.LGCL_DEL_DA is null\nand acct.ACCT_CLS_DA is null\n--owner is not deceased\nand contact.DEATH_DA is  null\n--inherited \u003d Y\nand acct.dcdnt_retr_ind \u003d \u0027N\u0027\n\n---- Y[hqEjToBank\u003dtrue] \u003d client is allowed to initiate transfers from this Edward Jones account to their bank account\nand (hq_system_restrictions.ACH_DB_ALLW_IND is null  or hq_system_restrictions.ACH_DB_ALLW_IND\u003d\u0027Y\u0027)\n--and hq_system_restrictions.ACH_DB_ALLW_IND\u003d\u0027N\u0027\n---- Y[hqEjToBank\u003dtrue] \u003d client is allowed to initiate transfers from their bank account to this Edward Jones account\nand (hq_system_restrictions.ACH_CR_ALLW_IND is null or hq_system_restrictions.ACH_CR_ALLW_IND\u003d\u0027Y\u0027)\n--and hq_system_restrictions.ACH_CR_ALLW_IND\u003d\u0027N\u0027\n\n    and acct.AUTH_FORM_IND \u003d \u0027Y\u0027 and acct_svc.ACCT_SVC_TY_CD \u003d\u0027AV\u0027 and acct_svc.ACCT_SVC_STAT_CD \u003d \u0027A\u0027\n and acct_svc.ACCT_SVC_TY_CD not in (\u0027TL\u0027)\n\n\n--account is [not] restricted by restrictions from list\nand not acct.cust_no in (\n    select distinct acct.CUST_NO\n\n    from PROD.ACCOUNT_12280 as acct\n    join PROD.SUB_ACCOUNT_12512 as sub_acc on sub_acc.ACCT_ID\u003dacct.ACCT_ID\n    left outer join PROD.acct_rst_10214 v on v.account_no\u003dacct.cust_no\n\n    where\n    acct.TAX_RPT_CTRY_CD\u003d\u0027US\u0027\n\n    and acct.ACCT_OWN_RULE_ID\u003d306\n    and sub_acc.br_no   \u003d 9979\n    and acct.LGCL_DEL_DA is null\n    and acct.ACCT_CLS_DA is null\n    and v.rst_rsn_cd in (\u0027CIPR\u0027,\u0027COPD\u0027,\u0027FTRN\u0027,\u0027MAIL\u0027,\u0027RISK\u0027,\u0027WARN\u0027,\u002772T\u0027,\u0027SSN\u0027,\u0027AUTH\u0027,\u0027RESTRICTION\u0027)\n    and v.RST_START_DA\u003c\u00272025-10-06\u0027\n)",
              "isEvidence": false,
              "id": "report-data-1e790e13-3256-4d1f-9680-58bfd7732615"
            },
            {
              "title": "SQL result",
              "contents": "{ACCT_OWN_RULE_ID\u003d306, ACCT_SVC_TY_CD\u003dAV, DEATH_DA\u003dnull, ACCT_ID\u003d136676614, ACH_DB_ALLW_IND\u003dnull, RLTSHP_ID\u003d81894227, ACH_CR_ALLW_IND\u003dnull, BR_NO\u003d9979, CON_ID\u003d282219343, CUST_NO\u003d99784517, ACCT_PREFERRED_NAME\u003dDC Testing Inc                 , ACCT_SVC_STAT_CD\u003dA }\n{ACCT_OWN_RULE_ID\u003d306, ACCT_SVC_TY_CD\u003dAV, DEATH_DA\u003dnull, ACCT_ID\u003d134567966, ACH_DB_ALLW_IND\u003dY, RLTSHP_ID\u003d75372771, ACH_CR_ALLW_IND\u003dY, BR_NO\u003d9979, CON_ID\u003d263476002, CUST_NO\u003d99783696, ACCT_PREFERRED_NAME\u003dRetirement Pooled Test         , ACCT_SVC_STAT_CD\u003dA }\n{ACCT_OWN_RULE_ID\u003d306, ACCT_SVC_TY_CD\u003dAV, DEATH_DA\u003dnull, ACCT_ID\u003d133410769, ACH_DB_ALLW_IND\u003dnull, RLTSHP_ID\u003d27211856, ACH_CR_ALLW_IND\u003dnull, BR_NO\u003d9979, CON_ID\u003d162869793, CUST_NO\u003d99783386, ACCT_PREFERRED_NAME\u003d403B - BUSINESS                , ACCT_SVC_STAT_CD\u003dA }",
              "isEvidence": false,
              "id": "report-data-334ae64a-f17b-4751-b725-feedce3ff889"
            }
          ],
          "precondition": false,
          "level": 1
        }
      ]
    },
    {
      "number": 3,
      "description": "Get p-number for BOA of branch 9979, relationship 81894227, account 136676614, for Platform flow",
      "duration": 5,
      "startTime": "2025-10-06T11:30:53.894735239-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "fbf9f581d7db7e6c7c87a9a8b0b975152ba8b717795e405357efba3ef6780f6a.png",
          "timeStamp": 1759768253900,
          "screenshotName": "fbf9f581d7db7e6c7c87a9a8b0b975152ba8b717795e405357efba3ef6780f6a.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0
    },
    {
      "number": 4,
      "description": "Authenticating the session with pid: p058929",
      "duration": 2041,
      "startTime": "2025-10-06T11:30:53.900267295-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "ceda6b2b3e5a0d4fabde1330206236634728ad5b69f29a77710aab3388556863.png",
          "timeStamp": 1759768255942,
          "screenshotName": "ceda6b2b3e5a0d4fabde1330206236634728ad5b69f29a77710aab3388556863.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0,
      "children": [
        {
          "number": 5,
          "description": "Launch WAM and authenticate",
          "duration": 1537,
          "startTime": "2025-10-06T11:30:53.978435708-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "ceda6b2b3e5a0d4fabde1330206236634728ad5b69f29a77710aab3388556863.png",
              "timeStamp": 1759768255516,
              "screenshotName": "ceda6b2b3e5a0d4fabde1330206236634728ad5b69f29a77710aab3388556863.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1
        }
      ]
    },
    {
      "number": 6,
      "description": "Integrate New Account Service with Restrictions for ACH Transfers",
      "duration": 4952,
      "startTime": "2025-10-06T11:30:55.942289261-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "372b0e44776840cf9f574f4b37c3f6281285340bc95ffe2519bce130fc420bb6.png",
          "timeStamp": 1759768260894,
          "screenshotName": "372b0e44776840cf9f574f4b37c3f6281285340bc95ffe2519bce130fc420bb6.png"
        }
      ],
      "result": "SUCCESS",
      "reportData": [
        {
          "title": "Error submitting test results. INFO only",
          "contents": "closed",
          "isEvidence": false,
          "id": "report-data-0e35b4f6-7127-4ea3-b47a-8f23e4f1c542"
        },
        {
          "title": "...qTest Listener disabled",
          "contents": "Listener disabled or Serenity \u0027Result\u0027 is \u0027IGNORED\u0027 or Test Suite is invalid",
          "isEvidence": false,
          "id": "report-data-42d82153-61df-470d-9d2d-2a4b172d21fe"
        }
      ],
      "precondition": false,
      "level": 0,
      "children": [
        {
          "number": 7,
          "description": "Opening the asset movement page for relationship id: 81894227",
          "duration": 817,
          "startTime": "2025-10-06T11:30:55.943704246-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "d4844f7b487be4ffdddd558041aec3eaaa295ce7d598229862285c0512a3887c.png",
              "timeStamp": 1759768256761,
              "screenshotName": "d4844f7b487be4ffdddd558041aec3eaaa295ce7d598229862285c0512a3887c.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1
        },
        {
          "number": 8,
          "description": "Given set amc_use_new_accounts_service true",
          "duration": 555,
          "startTime": "2025-10-06T11:30:56.761999325-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "5be0859382a09b78a5081e9697f6c423267ce9f0a610141ce7a136cca8d06c64.png",
              "timeStamp": 1759768257317,
              "screenshotName": "5be0859382a09b78a5081e9697f6c423267ce9f0a610141ce7a136cca8d06c64.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1
        },
        {
          "number": 9,
          "description": "Choose transfer \u0027Out of\u0027 accounts",
          "duration": 820,
          "startTime": "2025-10-06T11:30:57.318051934-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "2374fc11aead56c93e665b9ffa4ee30149eb63c1d2782e412b133f3647177b87.png",
              "timeStamp": 1759768258138,
              "screenshotName": "2374fc11aead56c93e665b9ffa4ee30149eb63c1d2782e412b133f3647177b87.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1
        },
        {
          "number": 10,
          "description": "Verify Account 99784517 is Restricted true",
          "duration": 200,
          "startTime": "2025-10-06T11:30:58.138705755-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "663a27910b394b88dfef1e9ebb645acac74a551cb177643e387ac62de821a8e9.png",
              "timeStamp": 1759768258339,
              "screenshotName": "663a27910b394b88dfef1e9ebb645acac74a551cb177643e387ac62de821a8e9.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1
        },
        {
          "number": 11,
          "description": "Verify Tool Tip Message for restricted Account",
          "duration": 2549,
          "startTime": "2025-10-06T11:30:58.339879431-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "372b0e44776840cf9f574f4b37c3f6281285340bc95ffe2519bce130fc420bb6.png",
              "timeStamp": 1759768260889,
              "screenshotName": "372b0e44776840cf9f574f4b37c3f6281285340bc95ffe2519bce130fc420bb6.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1
        }
      ]
    }
  ],
  "userStory": {
    "id": "com.edwardjones.platform_ui_tests.testcases.OutOfRestrictionsNewServicePart3Test",
    "storyName": "OutOfRestrictionsNewServicePart3Test",
    "displayName": "OutOfRestrictionsNewServicePart3Test",
    "storyClassName": "com.edwardjones.platform_ui_tests.testcases.OutOfRestrictionsNewServicePart3Test",
    "path": "com.edwardjones.platform_ui_tests.testcases.OutOfRestrictionsNewServicePart3Test",
    "pathElements": [
      {
        "name": "com",
        "description": "com"
      },
      {
        "name": "edwardjones",
        "description": "edwardjones"
      },
      {
        "name": "platform_ui_tests",
        "description": "platform_ui_tests"
      },
      {
        "name": "testcases",
        "description": "testcases"
      },
      {
        "name": "OutOfRestrictionsNewServicePart3Test",
        "description": "OutOfRestrictionsNewServicePart3Test"
      }
    ],
    "narrative": "",
    "type": "feature"
  },
  "title": "Integrate New Account Service with Restrictions for ACH Transfers - 306 Rule IDChange applicable messaging in amc-rule-svc for ACH rules for QP/Pooled Plans and remove expired Rule IDs",
  "coreIssues": [
    "ATMT-23446",
    "ATMT-25307",
    "ATMT-33319",
    "ATMT-39561",
    "ATMT-37829",
    "ATMT-64997"
  ],
  "tags": [
    {
      "name": "Priority-3b",
      "type": "tag",
      "displayName": "Priority-3b"
    },
    {
      "name": "Microsoftedge",
      "type": "context",
      "displayName": "Microsoftedge"
    },
    {
      "name": "Platform1-Regression",
      "type": "tag",
      "displayName": "Platform1-Regression"
    },
    {
      "name": "DB-test-data",
      "type": "tag",
      "displayName": "DB-test-data"
    },
    {
      "name": "false",
      "type": "amc-ach-sep-ira-cashout-transfers-enable",
      "displayName": "false"
    }
  ],
  "startTime": "2025-10-06T11:30:48.508065957-05:00[America/Chicago]",
  "endTime": "2025-10-06T11:31:00.896187898-05:00[America/Chicago]",
  "duration": 5262,
  "projectKey": "",
  "sessionId": "1a18da48f3cb54bf0e16eb4bee84ecd5",
  "driver": "remote",
  "isManualTestingUpToDate": false,
  "context": "microsoftedge",
  "manual": false,
  "testSource": "JUnit5",
  "order": 0,
  "result": "SUCCESS",
  "issues": [
    "ATMT-23446",
    "ATMT-25307",
    "ATMT-33319",
    "ATMT-39561",
    "ATMT-37829",
    "ATMT-64997"
  ],
  "scenarioOutline": ""
}