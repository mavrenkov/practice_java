{
  "name": "verifyIfLinkedAccountIsChosenAutomatically()",
  "id": "[engine:junit-jupiter]/[class:com.edwardjones.platform_ui_tests.testcases.VerifyAutomaticSelectionLinkedAccountInto]/[method:verifyIfLinkedAccountIsChosenAutomatically()]",
  "scenarioId": "[engine:junit-jupiter]/[class:com.edwardjones.platform_ui_tests.testcases.VerifyAutomaticSelectionLinkedAccountInto]",
  "testCaseName": "com.edwardjones.platform_ui_tests.testcases.VerifyAutomaticSelectionLinkedAccountInto",
  "methodName": "verifyIfLinkedAccountIsChosenAutomatically",
  "testSteps": [
    {
      "number": 1,
      "description": "Retrieve random data from DB2: Single Select account with cash sub account from relationship with one account ",
      "duration": 0,
      "startTime": "2025-10-06T10:32:47.727293712-05:00[America/Chicago]",
      "reportData": [
        {
          "title": "Error submitting test results. INFO only",
          "contents": "closed",
          "isEvidence": false,
          "id": "report-data-23ec3b6c-712b-4523-b431-ec5246606e8e"
        },
        {
          "title": "...qTest Listener disabled",
          "contents": "Listener disabled or Serenity \u0027Result\u0027 is \u0027IGNORED\u0027 or Test Suite is invalid",
          "isEvidence": false,
          "id": "report-data-90cba51d-75a8-4ef5-8dfc-2b335a447c30"
        }
      ],
      "precondition": false,
      "level": 0,
      "children": [
        {
          "number": 2,
          "description": "Retrieve data from DB2: EJ accounts from relationships with one account",
          "duration": 65069,
          "startTime": "2025-10-06T10:32:47.727795982-05:00[America/Chicago]",
          "exception": {
            "errorType": "com.edwardjones.database.exceptions.DbDataIsNotRetrievedException",
            "message": "Error in reading data from DB2",
            "stackTrace": [
              {
                "declaringClass": "com.edwardjones.database.helpers.Db2Helper",
                "methodName": "getResultSet",
                "fileName": "Db2Helper.java",
                "lineNumber": 69
              },
              {
                "declaringClass": "com.edwardjones.database.dataproviders.base.BaseTestDataProvider",
                "methodName": "readDb2Data",
                "fileName": "BaseTestDataProvider.java",
                "lineNumber": 119
              },
              {
                "declaringClass": "com.edwardjones.database.dataproviders.base.BaseTestDataProvider",
                "methodName": "readDb2Data",
                "fileName": "BaseTestDataProvider.java",
                "lineNumber": 106
              },
              {
                "declaringClass": "com.edwardjones.database.dataproviders.platform.SelectNonRestrictedAccountDb2TestDataProvider",
                "methodName": "readData",
                "fileName": "SelectNonRestrictedAccountDb2TestDataProvider.java",
                "lineNumber": 138
              },
              {
                "declaringClass": "com.edwardjones.database.dataproviders.platform.SelectNonRestrictedAccountDb2TestDataProvider",
                "methodName": "readData",
                "fileName": "SelectNonRestrictedAccountDb2TestDataProvider.java",
                "lineNumber": 111
              },
              {
                "declaringClass": "com.edwardjones.database.dataproviders.platform.SelectNonRestrictedAccountDb2TestDataProvider",
                "methodName": "readDataForRelationshipsWithOneAccount",
                "fileName": "SelectNonRestrictedAccountDb2TestDataProvider.java",
                "lineNumber": 84
              },
              {
                "declaringClass": "com.edwardjones.database.dataproviders.platform.SelectNonRestrictedAccountDb2TestDataProvider",
                "methodName": "getRandomDataForSingleSelectAccountFromRelationshipWithOneAccount",
                "fileName": "SelectNonRestrictedAccountDb2TestDataProvider.java",
                "lineNumber": 165
              },
              {
                "declaringClass": "com.edwardjones.platform_ui_tests.testcases.VerifyAutomaticSelectionLinkedAccountInto",
                "methodName": "setup",
                "fileName": "VerifyAutomaticSelectionLinkedAccountInto.java",
                "lineNumber": 43
              },
              {
                "declaringClass": "worker.org.gradle.process.internal.worker.GradleWorkerMain",
                "methodName": "run",
                "fileName": "GradleWorkerMain.java",
                "lineNumber": 69
              },
              {
                "declaringClass": "worker.org.gradle.process.internal.worker.GradleWorkerMain",
                "methodName": "main",
                "fileName": "GradleWorkerMain.java",
                "lineNumber": 74
              }
            ],
            "rootCause": {
              "errorType": "com.ibm.db2.jcc.am.DisconnectNonTransientConnectionException",
              "message": "[jcc][t4][2030][11211][4.29.24] A communication error occurred during operations on the connection\u0027s underlying socket, socket input stream, \nor socket output stream.  Error location: Query timeout check.  Message: Query timed out. ERRORCODE\u003d-4499, SQLSTATE\u003d08001",
              "stackTrace": [
                {
                  "declaringClass": "com.ibm.db2.jcc.am.b7",
                  "methodName": "a",
                  "fileName": "b7.java",
                  "lineNumber": 338
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.a",
                  "methodName": "a",
                  "fileName": "a.java",
                  "lineNumber": 573
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.a",
                  "methodName": "a",
                  "fileName": "a.java",
                  "lineNumber": 557
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.b",
                  "methodName": "l",
                  "fileName": "b.java",
                  "lineNumber": 7866
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.a",
                  "methodName": "y",
                  "fileName": "a.java",
                  "lineNumber": 1737
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.a",
                  "methodName": "a",
                  "fileName": "a.java",
                  "lineNumber": 1721
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.y",
                  "methodName": "b",
                  "fileName": "y.java",
                  "lineNumber": 276
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.y",
                  "methodName": "c",
                  "fileName": "y.java",
                  "lineNumber": 342
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.y",
                  "methodName": "c",
                  "fileName": "y.java",
                  "lineNumber": 455
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.y",
                  "methodName": "v",
                  "fileName": "y.java",
                  "lineNumber": 1230
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.ab",
                  "methodName": "b",
                  "fileName": "ab.java",
                  "lineNumber": 93
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.p",
                  "methodName": "a",
                  "fileName": "p.java",
                  "lineNumber": 32
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.t4.av",
                  "methodName": "i",
                  "fileName": "av.java",
                  "lineNumber": 150
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.am.k9",
                  "methodName": "al",
                  "fileName": "k9.java",
                  "lineNumber": 2223
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.am.k9",
                  "methodName": "a",
                  "fileName": "k9.java",
                  "lineNumber": 3351
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.am.k9",
                  "methodName": "a",
                  "fileName": "k9.java",
                  "lineNumber": 741
                },
                {
                  "declaringClass": "com.ibm.db2.jcc.am.k9",
                  "methodName": "executeQuery",
                  "fileName": "k9.java",
                  "lineNumber": 720
                },
                {
                  "declaringClass": "com.edwardjones.database.helpers.Db2Helper",
                  "methodName": "getResultSet",
                  "fileName": "Db2Helper.java",
                  "lineNumber": 54
                },
                {
                  "declaringClass": "com.edwardjones.database.dataproviders.base.BaseTestDataProvider",
                  "methodName": "readDb2Data",
                  "fileName": "BaseTestDataProvider.java",
                  "lineNumber": 119
                },
                {
                  "declaringClass": "com.edwardjones.database.dataproviders.base.BaseTestDataProvider",
                  "methodName": "readDb2Data",
                  "fileName": "BaseTestDataProvider.java",
                  "lineNumber": 106
                },
                {
                  "declaringClass": "com.edwardjones.database.dataproviders.platform.SelectNonRestrictedAccountDb2TestDataProvider",
                  "methodName": "readData",
                  "fileName": "SelectNonRestrictedAccountDb2TestDataProvider.java",
                  "lineNumber": 138
                },
                {
                  "declaringClass": "com.edwardjones.database.dataproviders.platform.SelectNonRestrictedAccountDb2TestDataProvider",
                  "methodName": "readData",
                  "fileName": "SelectNonRestrictedAccountDb2TestDataProvider.java",
                  "lineNumber": 111
                },
                {
                  "declaringClass": "com.edwardjones.database.dataproviders.platform.SelectNonRestrictedAccountDb2TestDataProvider",
                  "methodName": "readDataForRelationshipsWithOneAccount",
                  "fileName": "SelectNonRestrictedAccountDb2TestDataProvider.java",
                  "lineNumber": 84
                },
                {
                  "declaringClass": "com.edwardjones.database.dataproviders.platform.SelectNonRestrictedAccountDb2TestDataProvider",
                  "methodName": "getRandomDataForSingleSelectAccountFromRelationshipWithOneAccount",
                  "fileName": "SelectNonRestrictedAccountDb2TestDataProvider.java",
                  "lineNumber": 165
                },
                {
                  "declaringClass": "com.edwardjones.platform_ui_tests.testcases.VerifyAutomaticSelectionLinkedAccountInto",
                  "methodName": "setup",
                  "fileName": "VerifyAutomaticSelectionLinkedAccountInto.java",
                  "lineNumber": 43
                },
                {
                  "declaringClass": "worker.org.gradle.process.internal.worker.GradleWorkerMain",
                  "methodName": "run",
                  "fileName": "GradleWorkerMain.java",
                  "lineNumber": 69
                },
                {
                  "declaringClass": "worker.org.gradle.process.internal.worker.GradleWorkerMain",
                  "methodName": "main",
                  "fileName": "GradleWorkerMain.java",
                  "lineNumber": 74
                }
              ]
            }
          },
          "result": "ERROR",
          "reportData": [
            {
              "title": "SQL query",
              "contents": "select rlt.RLTSHP_ID AS RLTSHP_ID,\nsub_acc.VNDR_ACCT_ID AS VNDR_ACCT_ID,\nsub_acc.ACCT_ID AS ACCT_ID,\nsub_acc.BR_NO as BR_NO,\ncount(distinct sub_acc_type.ACCT_TY_CD) as subAccountTypeCount,\nsum(sub_acc_type.ACCT_TY_CD) as subAccountsSum\n\nfrom PROD.RLTSHP_13120 rlt\njoin PROD.ACCT_FUNC_GRP_DTL_13088 grp on rlt.ACCT_FUNC_GRP_ID \u003d grp.ACCT_FUNC_GRP_ID\njoin PROD.SUBACCT_SVC_12569 as sub_acct_svc on grp.ACCT_ID \u003d sub_acct_svc.ACCT_ID\njoin PROD.SUB_ACCOUNT_12512 as sub_acc on sub_acc.ACCT_ID \u003d sub_acct_svc.ACCT_ID\njoin PROD.SUBACCT_TYPE_12528 as sub_acc_type on sub_acc.ACCT_ID \u003d sub_acc_type.ACCT_ID\njoin PROD.ACCOUNT_12280 as acct on acct.ACCT_ID \u003d sub_acct_svc.ACCT_ID\njoin PROD.ACCT_OWN_RUL_12520 acc_own_rule on acc_own_rule.ACCT_OWN_RULE_ID \u003d  acct.ACCT_OWN_RULE_ID\njoin PROD.OWN_CLASS_12680 cls on  acc_own_rule.ACCT_OWN_RULE_ID \u003d cls.ACCT_OWN_RULE_ID\njoin PROD.CONTACT_12250 as contact on contact.CON_ID  \u003d sub_acc.TAX_RPT_CON_ID\n\nwhere rlt.ISO_CTRY_CD \u003d \u0027US\u0027\nand cls.ACCT_CLASS_CD \u003d\u002701\u0027\n and sub_acct_svc.ACTV_IND \u003d \u0027Y\u0027\n and sub_acc.AUTH_FORM_IND \u003d \u0027Y\u0027\nand sub_acc.BR_NO \u003d 4454\nand sub_acc.ACCT_CLS_UT is NULL\nand sub_acc.acct_rst_ind \u003d \u0027N\u0027\n and sub_acct_svc.ACCT_SVC_TY_CD\u003d\u0027SE\u0027\n--owner is not deceased\nand contact.DEATH_DA is null\n--inherited \u003d N\n and acct.dcdnt_retr_ind \u003d \u0027N\u0027\n-- and acct.ACCT_ACTV_IND\u003d\u0027N\u0027\n and rlt.RLTSHP_ID in (\nselect\nrlt.RLTSHP_ID\n\nfrom PROD.SUB_ACCOUNT_12512 as sub_acc\njoin PROD.RLTSHP_13120 as rlt on rlt.ACCT_FUNC_GRP_ID \u003d acctgrp.ACCT_FUNC_GRP_ID\njoin PROD.ACCT_FUNC_GRP_DTL_13088 as acctgrp on acctgrp.ACCT_ID\u003dsub_acc.ACCT_ID\n\nwhere sub_acc.BR_NO \u003d 4454\nand sub_acc.ACCT_CLS_UT is null\n\ngroup by rlt.RLTSHP_ID\nhaving count(distinct sub_acc.ACCT_ID)\u003d1\n)\n\nand sub_acc.acct_id not in\n(               select a.acct_id\n                from\n                    PROD.ACCOUNT_12280 a\n                    left outer join PROD.acct_rst_10214 v on v.account_no\u003d a.cust_no\n                    inner join PROD.ACCT_OWN_RUL_12520 acc_own_rule on acc_own_rule.ACCT_OWN_RULE_ID \u003d  a.ACCT_OWN_RULE_ID\n                    inner join PROD.OWN_CLASS_12680 cls on  acc_own_rule.ACCT_OWN_RULE_ID \u003d  cls.ACCT_OWN_RULE_ID\n                    inner join PROD.SUB_ACCOUNT_12512 as sub_acc on sub_acc.ACCT_ID\u003da.ACCT_ID\n                where\n                    v.rst_rsn_cd is not null\n                    and v.rst_rsn_cd in (\u0027AUTH\u0027, \u0027DOCU\u0027, \u0027WARN\u0027, \u0027CIPR\u0027, \u0027COPD\u0027, \u0027CO\u0027, \u0027RISK\u0027, \u0027SSN\u0027, \u0027FTRN\u0027, \u002772T\u0027, \u0027MISC\u0027, \u0027MAIL\u0027, \u0027FOR\u0027, \u0027FOR2\u0027, \u0027R471\u0027, \u0027R407\u0027,\u0027DEATH\u0027)\n                    and cls.ACCT_CLASS_CD \u003d\u002701\u0027\n                    and sub_acc.BR_NO \u003d 4454\n                    and a.ACCT_CLS_DA is null\n)\ngroup by rlt.RLTSHP_ID, sub_acc.VNDR_ACCT_ID, sub_acc.ACCT_ID, sub_acc.BR_NO\nhaving sum(sub_acc_type.ACCT_TY_CD) \u003e\u003d 7\nfetch first 500 rows only;",
              "isEvidence": false,
              "id": "report-data-9272f585-4c96-444f-ba87-5c3832c4f4c3"
            }
          ],
          "precondition": false,
          "level": 1
        },
        {
          "number": 3,
          "description": "AMC: Delete bank profiles for account with ID\u003d\u003cnull\u003e of relationship \u003cnull\u003e",
          "duration": 0,
          "startTime": "2025-10-06T10:33:52.802401018-05:00[America/Chicago]",
          "result": "SKIPPED",
          "precondition": false,
          "level": 1
        },
        {
          "number": 4,
          "description": "Prepare approved bank profile",
          "duration": 0,
          "startTime": "2025-10-06T10:33:52.805967394-05:00[America/Chicago]",
          "result": "SKIPPED",
          "precondition": false,
          "level": 1
        },
        {
          "number": 5,
          "description": "Authenticating the session with pid: P033267",
          "duration": 0,
          "startTime": "2025-10-06T10:33:52.809063431-05:00[America/Chicago]",
          "result": "SKIPPED",
          "precondition": false,
          "level": 1
        },
        {
          "number": 6,
          "description": "Opening the asset movement page for relationship id: \u003cnull\u003e",
          "duration": 0,
          "startTime": "2025-10-06T10:33:52.812420122-05:00[America/Chicago]",
          "result": "SKIPPED",
          "precondition": false,
          "level": 1
        },
        {
          "number": 7,
          "description": "Update the URL for Internal Transfer",
          "duration": 0,
          "startTime": "2025-10-06T10:33:52.843337103-05:00[America/Chicago]",
          "result": "SKIPPED",
          "precondition": false,
          "level": 1
        },
        {
          "number": 8,
          "description": "Choose transfer \u0027Into\u0027 accounts",
          "duration": 0,
          "startTime": "2025-10-06T10:33:52.846572378-05:00[America/Chicago]",
          "result": "SKIPPED",
          "precondition": false,
          "level": 1
        },
        {
          "number": 9,
          "description": "Verify that accounts are marked as selected",
          "duration": 0,
          "startTime": "2025-10-06T10:33:52.850192421-05:00[America/Chicago]",
          "result": "SKIPPED",
          "precondition": false,
          "level": 1
        },
        {
          "number": 10,
          "description": "Continue button is enabled true",
          "duration": 0,
          "startTime": "2025-10-06T10:33:52.853484541-05:00[America/Chicago]",
          "result": "SKIPPED",
          "precondition": false,
          "level": 1
        }
      ]
    }
  ],
  "userStory": {
    "id": "com.edwardjones.platform_ui_tests.testcases.VerifyAutomaticSelectionLinkedAccountInto",
    "storyName": "VerifyAutomaticSelectionLinkedAccountInto",
    "displayName": "VerifyAutomaticSelectionLinkedAccountInto",
    "storyClassName": "com.edwardjones.platform_ui_tests.testcases.VerifyAutomaticSelectionLinkedAccountInto",
    "path": "com.edwardjones.platform_ui_tests.testcases.VerifyAutomaticSelectionLinkedAccountInto",
    "pathElements": [
      {
        "name": "com",
        "description": "com"
      },
      {
        "name": "edwardjones",
        "description": "edwardjones"
      },
      {
        "name": "platform_ui_tests",
        "description": "platform_ui_tests"
      },
      {
        "name": "testcases",
        "description": "testcases"
      },
      {
        "name": "VerifyAutomaticSelectionLinkedAccountInto",
        "description": "VerifyAutomaticSelectionLinkedAccountInto"
      }
    ],
    "narrative": "",
    "type": "feature"
  },
  "title": "Linked account should be chosen automatically if it is only one in the list for INTO transfer",
  "coreIssues": [
    "ATMT-25683"
  ],
  "tags": [
    {
      "name": "ach-into-flow",
      "type": "tag",
      "displayName": "ach-into-flow"
    },
    {
      "name": "Priority-3b",
      "type": "tag",
      "displayName": "Priority-3b"
    },
    {
      "name": "Microsoftedge",
      "type": "context",
      "displayName": "Microsoftedge"
    },
    {
      "name": "Platform1-Regression",
      "type": "tag",
      "displayName": "Platform1-Regression"
    },
    {
      "name": "DB-test-data",
      "type": "tag",
      "displayName": "DB-test-data"
    },
    {
      "name": "new-old-ui",
      "type": "tag",
      "displayName": "new-old-ui"
    },
    {
      "name": "Platform1-Regression-Daily",
      "type": "tag",
      "displayName": "Platform1-Regression-Daily"
    }
  ],
  "startTime": "2025-10-06T10:32:47.723567903-05:00[America/Chicago]",
  "endTime": "2025-10-06T10:33:52.855264736-05:00[America/Chicago]",
  "duration": 65131,
  "testFailureCause": {
    "errorType": "net.thucydides.model.domain.MultipleAssertionErrors",
    "message": "\nThe following 2 assertions failed:\n1) Error in reading data from DB2\n2) [jcc][t4][2030][11211][4.29.24] A communication error occurred during operations on the connection\u0027s underlying socket, socket input stream, \nor socket output stream.  Error location: Query timeout check.  Message: Query timed out. ERRORCODE\u003d-4499, SQLSTATE\u003d08001\n",
    "stackTrace": [
      {
        "declaringClass": "worker.org.gradle.process.internal.worker.GradleWorkerMain",
        "methodName": "run",
        "fileName": "GradleWorkerMain.java",
        "lineNumber": 69
      },
      {
        "declaringClass": "worker.org.gradle.process.internal.worker.GradleWorkerMain",
        "methodName": "main",
        "fileName": "GradleWorkerMain.java",
        "lineNumber": 74
      }
    ]
  },
  "testFailureClassname": "net.thucydides.model.domain.MultipleAssertionErrors",
  "testFailureMessage": "\nThe following 2 assertions failed:\n1) Error in reading data from DB2\n2) [jcc][t4][2030][11211][4.29.24] A communication error occurred during operations on the connection\u0027s underlying socket, socket input stream, \nor socket output stream.  Error location: Query timeout check.  Message: Query timed out. ERRORCODE\u003d-4499, SQLSTATE\u003d08001\n",
  "testFailureSummary": "\nThe following 2 assertions failed:\n1) Error in reading data from DB2\n2) [jcc][t4][2030][11211][4.29.24] A communication error occurred during operations on the connection\u0027s underlying socket, socket input stream, \nor socket output stream.  Error location: Query timeout check.  Message: Query timed out. ERRORCODE\u003d-4499, SQLSTATE\u003d08001\n",
  "projectKey": "",
  "annotatedResult": "ERROR",
  "driver": "",
  "isManualTestingUpToDate": false,
  "context": "microsoftedge",
  "manual": false,
  "testSource": "JUnit5",
  "order": 0,
  "result": "ERROR",
  "issues": [
    "ATMT-25683"
  ],
  "scenarioOutline": ""
}