{
  "name": "verifyMissingClientAgreementBUm()",
  "id": "[engine:junit-jupiter]/[class:com.edwardjones.platform_ui_tests.testcases.IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement]/[method:verifyMissingClientAgreementBUm()]",
  "scenarioId": "[engine:junit-jupiter]/[class:com.edwardjones.platform_ui_tests.testcases.IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement]",
  "testCaseName": "com.edwardjones.platform_ui_tests.testcases.IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement",
  "methodName": "verifyMissingClientAgreementBUm",
  "testSteps": [
    {
      "number": 1,
      "description": "Retrieve data from DB2: EJ account, ownership ruleID\u003d309, branch \u003cnull\u003e, ACCT_SVC_TY_CD UM, ACCT_SVC_STAT_CD B",
      "duration": 6128,
      "startTime": "2025-10-06T10:02:58.475092553-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "a679889d61c34836d4e7a018b2788b6835ae7a7b444679a78ee81a1816e58e45.png",
          "timeStamp": 1759762984603,
          "screenshotName": "a679889d61c34836d4e7a018b2788b6835ae7a7b444679a78ee81a1816e58e45.png"
        }
      ],
      "result": "SUCCESS",
      "reportData": [
        {
          "title": "SQL query",
          "contents": "select\nacct.ACCT_ID, acct.CUST_NO,\nrlt.RLTSHP_ID AS RLTSHP_ID,\nacct_svc.ACCT_SVC_TY_CD, acct_svc.ACCT_SVC_STAT_CD, acct.ACCT_OWN_RULE_ID,\ncontact.CON_ID, contact.DEATH_DA,\nhq_system_restrictions.ACH_DB_ALLW_IND, hq_system_restrictions.ACH_CR_ALLW_IND,\nsub_acc.BR_NO,\nus_sub_acc.EDJ_ACCT_PRFD_NA as ACCT_PREFERRED_NAME\n\nfrom PROD.RLTSHP_13120 rlt\njoin PROD.ACCT_FUNC_GRP_DTL_13088 grp on rlt.ACCT_FUNC_GRP_ID \u003d grp.ACCT_FUNC_GRP_ID\njoin PROD.ACCOUNT_12280 as acct on grp.ACCT_ID \u003d acct.ACCT_ID\njoin PROD.SUB_ACCOUNT_12512 as sub_acc on sub_acc.ACCT_ID\u003dacct.ACCT_ID\njoin PROD.SUBACCT_SVC_12569 as acct_svc on acct_svc.ACCT_ID\u003dacct.ACCT_ID\njoin PROD.CONTACT_12250 as contact on contact.CON_ID  \u003d sub_acc.TAX_RPT_CON_ID\njoin PROD.US_SUB_ACCT_13603 as us_sub_acc on sub_acc.ACCT_ID \u003d us_sub_acc.ACCT_ID\nleft outer join PROD.DB_CR_ALLW_11903 as hq_system_restrictions on hq_system_restrictions.ACCT_ID \u003d acct.ACCT_ID\n\nwhere\nacct.TAX_RPT_CTRY_CD\u003d\u0027US\u0027\nand acct.ACCT_OWN_RULE_ID\u003d309\nand sub_acc.br_no   in (1626, 2153, 4369, 9005, 3434, 94674, 87782, 7822, 5897, 3997, 19864, 99785, 99732, 99464, 99447, 98594, 95528, 4454, 9979)\n\n--account is not deleted and closed\nand acct.LGCL_DEL_DA is null\nand acct.ACCT_CLS_DA is null\n--owner is not deceased\nand contact.DEATH_DA is  null\n--inherited \u003d Y\nand acct.dcdnt_retr_ind \u003d \u0027N\u0027\n\n---- Y[hqEjToBank\u003dtrue] \u003d client is allowed to initiate transfers from this Edward Jones account to their bank account\nand (hq_system_restrictions.ACH_DB_ALLW_IND is null  or hq_system_restrictions.ACH_DB_ALLW_IND\u003d\u0027Y\u0027)\n--and hq_system_restrictions.ACH_DB_ALLW_IND\u003d\u0027N\u0027\n---- Y[hqEjToBank\u003dtrue] \u003d client is allowed to initiate transfers from their bank account to this Edward Jones account\nand (hq_system_restrictions.ACH_CR_ALLW_IND is null or hq_system_restrictions.ACH_CR_ALLW_IND\u003d\u0027Y\u0027)\n--and hq_system_restrictions.ACH_CR_ALLW_IND\u003d\u0027N\u0027\n\n    and acct.AUTH_FORM_IND \u003d \u0027Y\u0027 and acct_svc.ACCT_SVC_TY_CD \u003d\u0027UM\u0027 and acct_svc.ACCT_SVC_STAT_CD \u003d \u0027B\u0027\n and acct_svc.ACCT_SVC_TY_CD not in (\u0027TL\u0027)\n\n\n--account is [not] restricted by restrictions from list\nand not acct.cust_no in (\n    select distinct acct.CUST_NO\n\n    from PROD.ACCOUNT_12280 as acct\n    join PROD.SUB_ACCOUNT_12512 as sub_acc on sub_acc.ACCT_ID\u003dacct.ACCT_ID\n    left outer join PROD.acct_rst_10214 v on v.account_no\u003dacct.cust_no\n\n    where\n    acct.TAX_RPT_CTRY_CD\u003d\u0027US\u0027\n\n    and acct.ACCT_OWN_RULE_ID\u003d309\n    and sub_acc.br_no   in (1626, 2153, 4369, 9005, 3434, 94674, 87782, 7822, 5897, 3997, 19864, 99785, 99732, 99464, 99447, 98594, 95528, 4454, 9979)\n    and acct.LGCL_DEL_DA is null\n    and acct.ACCT_CLS_DA is null\n    and v.rst_rsn_cd in (\u0027CIPR\u0027,\u0027COPD\u0027,\u0027FTRN\u0027,\u0027MAIL\u0027,\u0027RISK\u0027,\u0027WARN\u0027,\u002772T\u0027,\u0027SSN\u0027,\u0027AUTH\u0027,\u0027RESTRICTION\u0027)\n    and v.RST_START_DA\u003c\u00272025-10-06\u0027\n)",
          "isEvidence": false,
          "id": "report-data-a040524f-77a1-42e1-a74d-d1c580cf140a"
        },
        {
          "title": "SQL result",
          "contents": "{ACCT_OWN_RULE_ID\u003d309, ACCT_SVC_TY_CD\u003dUM, DEATH_DA\u003dnull, ACCT_ID\u003d145182873, ACH_DB_ALLW_IND\u003dnull, RLTSHP_ID\u003d44901781, ACH_CR_ALLW_IND\u003dnull, BR_NO\u003d4454, CON_ID\u003d186600173, CUST_NO\u003d44523383, ACCT_PREFERRED_NAME\u003dROUSH, S DAVID                 , ACCT_SVC_STAT_CD\u003dB }",
          "isEvidence": false,
          "id": "report-data-4d6975b6-672c-4302-a004-cec90fb788dd"
        },
        {
          "title": "SQL query for AMC_PROFILE",
          "contents": "SELECT bank_account.bank_account_no, bank_profile.account_id, bank_account.bank_account_guid FROM bank_profile join bank_account on bank_account.bank_account_id \u003d bank_profile.bank_account_id WHERE bank_profile.bank_profile_status_cd\u003d\u0027APPROVED\u0027 and bank_profile.account_id in (145182873)",
          "isEvidence": false,
          "id": "report-data-6f535c8f-2ded-4749-a082-e0fdb570430d"
        },
        {
          "title": "Retrieved data",
          "contents": "{bank_account_guid\u003d3418293D-B5D5-43C2-9CE5-C16295A532A7, account_id\u003d145182873, bank_account_no\u003dban1536}",
          "isEvidence": false,
          "id": "report-data-a570b7fe-36f7-42af-adc4-a45eb432ca0c"
        },
        {
          "title": "Retrieved data",
          "contents": "EjAccountWithBankProfileTestData(ejAccountId\u003d145182873, ejAccountCustomerNumber\u003d44523383, relationshipId\u003d44901781, branch\u003d4454, bankAccountNumber\u003dban1536, maskedBankAccountNumber\u003d****1536, bankAccountId\u003d3418293D-B5D5-43C2-9CE5-C16295A532A7)",
          "isEvidence": false,
          "id": "report-data-663cce6b-003a-475e-95be-295eb25b9a8c"
        }
      ],
      "precondition": false,
      "level": 0
    },
    {
      "number": 2,
      "description": "Prepare approved bank profile if any approved bank profiles found",
      "duration": 6,
      "startTime": "2025-10-06T10:03:04.616777195-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "a679889d61c34836d4e7a018b2788b6835ae7a7b444679a78ee81a1816e58e45.png",
          "timeStamp": 1759762984623,
          "screenshotName": "a679889d61c34836d4e7a018b2788b6835ae7a7b444679a78ee81a1816e58e45.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0
    },
    {
      "number": 3,
      "description": "Get p-number for BOA of branch 4454, relationship 44901781, account 3418293D-B5D5-43C2-9CE5-C16295A532A7, for Platform flow",
      "duration": 6,
      "startTime": "2025-10-06T10:03:04.623495034-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "a679889d61c34836d4e7a018b2788b6835ae7a7b444679a78ee81a1816e58e45.png",
          "timeStamp": 1759762984629,
          "screenshotName": "a679889d61c34836d4e7a018b2788b6835ae7a7b444679a78ee81a1816e58e45.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0
    },
    {
      "number": 4,
      "description": "Authenticating the session with pid: p058929",
      "duration": 2104,
      "startTime": "2025-10-06T10:03:04.632245636-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "a80d1db837100b56022ef24b8a4a4682fb665bf8ff353cbf81ce4779ea7842be.png",
          "timeStamp": 1759762986736,
          "screenshotName": "a80d1db837100b56022ef24b8a4a4682fb665bf8ff353cbf81ce4779ea7842be.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0,
      "children": [
        {
          "number": 5,
          "description": "Launch WAM and authenticate",
          "duration": 1591,
          "startTime": "2025-10-06T10:03:04.722657159-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "a80d1db837100b56022ef24b8a4a4682fb665bf8ff353cbf81ce4779ea7842be.png",
              "timeStamp": 1759762986314,
              "screenshotName": "a80d1db837100b56022ef24b8a4a4682fb665bf8ff353cbf81ce4779ea7842be.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1
        }
      ]
    },
    {
      "number": 6,
      "description": "Opening the asset movement page for relationship id: 44901781",
      "duration": 802,
      "startTime": "2025-10-06T10:03:06.737033822-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "afd0c64889580d00c7dc586f22bce5bfdb67c0cc2a0b198e3dc7a6765756f6a7.png",
          "timeStamp": 1759762987539,
          "screenshotName": "afd0c64889580d00c7dc586f22bce5bfdb67c0cc2a0b198e3dc7a6765756f6a7.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0
    },
    {
      "number": 7,
      "description": "Given set amc_use_new_accounts_service true",
      "duration": 659,
      "startTime": "2025-10-06T10:03:07.540043332-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "43e4d3b9d247548b46326dcd940569fe75c0fef180e6ec72699f11be1c83ce70.png",
          "timeStamp": 1759762988199,
          "screenshotName": "43e4d3b9d247548b46326dcd940569fe75c0fef180e6ec72699f11be1c83ce70.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0
    },
    {
      "number": 8,
      "description": "Choose transfer \u0027Into\u0027 accounts",
      "duration": 16796,
      "startTime": "2025-10-06T10:03:08.199993901-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "50bafb6bdc279603ffd1884f891dc800dcc2449227234887177a9abc481f8931.png",
          "timeStamp": 1759763004996,
          "screenshotName": "50bafb6bdc279603ffd1884f891dc800dcc2449227234887177a9abc481f8931.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0
    },
    {
      "number": 9,
      "description": "Select Linked Bank option",
      "duration": 325,
      "startTime": "2025-10-06T10:03:24.996972829-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "f8165aa7d1cca462ad5421718e71e52b0b2b60303c5bbf6767f6aa59de5ce718.png",
          "timeStamp": 1759763005322,
          "screenshotName": "f8165aa7d1cca462ad5421718e71e52b0b2b60303c5bbf6767f6aa59de5ce718.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0
    },
    {
      "number": 10,
      "description": "Select searched account ****1536",
      "duration": 2039,
      "startTime": "2025-10-06T10:03:25.323185806-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "efd6af53e978afaf5e5276bcff71464dd60c8438992d86dc55d296c06b3a247a.png",
          "timeStamp": 1759763007362,
          "screenshotName": "efd6af53e978afaf5e5276bcff71464dd60c8438992d86dc55d296c06b3a247a.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0,
      "children": [
        {
          "number": 11,
          "description": "Search for account ****1536",
          "duration": 1531,
          "startTime": "2025-10-06T10:03:25.387098838-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "e4760ff5ccd959a1f332a6ba38946e37ddf9ae897cbc8d147e3e5fb918a9c575.png",
              "timeStamp": 1759763006918,
              "screenshotName": "e4760ff5ccd959a1f332a6ba38946e37ddf9ae897cbc8d147e3e5fb918a9c575.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1,
          "children": [
            {
              "number": 12,
              "description": "Wait for result list to be filtered by number",
              "duration": 185,
              "startTime": "2025-10-06T10:03:26.726347494-05:00[America/Chicago]",
              "screenshots": [
                {
                  "screenshot": "e4760ff5ccd959a1f332a6ba38946e37ddf9ae897cbc8d147e3e5fb918a9c575.png",
                  "timeStamp": 1759763006911,
                  "screenshotName": "e4760ff5ccd959a1f332a6ba38946e37ddf9ae897cbc8d147e3e5fb918a9c575.png"
                }
              ],
              "result": "SUCCESS",
              "precondition": false,
              "level": 2
            }
          ]
        },
        {
          "number": 13,
          "description": "Wait for result list to be filtered by number",
          "duration": 180,
          "startTime": "2025-10-06T10:03:26.918828746-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "e68819474ea4a43f5b5d13ef308baf69c3a70d1790c926a7af5dfa78c77bb6d0.png",
              "timeStamp": 1759763007099,
              "screenshotName": "e68819474ea4a43f5b5d13ef308baf69c3a70d1790c926a7af5dfa78c77bb6d0.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1
        }
      ]
    },
    {
      "number": 14,
      "description": "Click continue button",
      "duration": 366,
      "startTime": "2025-10-06T10:03:27.362725529-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "e789741f2bc0e0ae5e18e36f17641af0173d2ded1aaf1d87e686df2f68ad3cf8.png",
          "timeStamp": 1759763007729,
          "screenshotName": "e789741f2bc0e0ae5e18e36f17641af0173d2ded1aaf1d87e686df2f68ad3cf8.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0,
      "children": [
        {
          "number": 15,
          "description": "Click \u0027Next\u0027 - go to Next Card",
          "duration": 355,
          "startTime": "2025-10-06T10:03:27.368133755-05:00[America/Chicago]",
          "screenshots": [
            {
              "screenshot": "e789741f2bc0e0ae5e18e36f17641af0173d2ded1aaf1d87e686df2f68ad3cf8.png",
              "timeStamp": 1759763007723,
              "screenshotName": "e789741f2bc0e0ae5e18e36f17641af0173d2ded1aaf1d87e686df2f68ad3cf8.png"
            }
          ],
          "result": "SUCCESS",
          "precondition": false,
          "level": 1,
          "children": [
            {
              "number": 16,
              "description": "Click \u0027Next\u0027.",
              "duration": 346,
              "startTime": "2025-10-06T10:03:27.370023227-05:00[America/Chicago]",
              "screenshots": [
                {
                  "screenshot": "e789741f2bc0e0ae5e18e36f17641af0173d2ded1aaf1d87e686df2f68ad3cf8.png",
                  "timeStamp": 1759763007716,
                  "screenshotName": "e789741f2bc0e0ae5e18e36f17641af0173d2ded1aaf1d87e686df2f68ad3cf8.png"
                }
              ],
              "result": "SUCCESS",
              "precondition": false,
              "level": 2
            }
          ]
        }
      ]
    },
    {
      "number": 17,
      "description": "Verify Account 44523383 is Restricted true",
      "duration": 187,
      "startTime": "2025-10-06T10:03:27.729350333-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "ce1318ca6d3d211508c9de96ab99e0ac1bd1fe6be9cd2fa161131b1139fe3bf5.png",
          "timeStamp": 1759763007917,
          "screenshotName": "ce1318ca6d3d211508c9de96ab99e0ac1bd1fe6be9cd2fa161131b1139fe3bf5.png"
        }
      ],
      "result": "SUCCESS",
      "precondition": false,
      "level": 0
    },
    {
      "number": 18,
      "description": "Verify Tool Tip Message for restricted Account",
      "duration": 2591,
      "startTime": "2025-10-06T10:03:27.917585121-05:00[America/Chicago]",
      "screenshots": [
        {
          "screenshot": "a458a20ec6debd1e1312bbafdffe53c861a50d3910d58d33e350cee7f79f9fb6.png",
          "timeStamp": 1759763010509,
          "screenshotName": "a458a20ec6debd1e1312bbafdffe53c861a50d3910d58d33e350cee7f79f9fb6.png"
        }
      ],
      "result": "SUCCESS",
      "reportData": [
        {
          "title": "...qTest Listener disabled",
          "contents": "Listener disabled or Serenity \u0027Result\u0027 is \u0027IGNORED\u0027 or Test Suite is invalid",
          "isEvidence": false,
          "id": "report-data-fa0725a3-d8c7-46a3-a265-af2c27b41954"
        },
        {
          "title": "Error submitting test results. INFO only",
          "contents": "closed",
          "isEvidence": false,
          "id": "report-data-2fa3ac73-174c-46e9-8b51-bc06dea238d6"
        }
      ],
      "precondition": false,
      "level": 0
    }
  ],
  "userStory": {
    "id": "com.edwardjones.platform_ui_tests.testcases.IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement",
    "storyName": "IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement",
    "displayName": "IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement",
    "storyClassName": "com.edwardjones.platform_ui_tests.testcases.IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement",
    "path": "com.edwardjones.platform_ui_tests.testcases.IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement",
    "pathElements": [
      {
        "name": "com",
        "description": "com"
      },
      {
        "name": "edwardjones",
        "description": "edwardjones"
      },
      {
        "name": "platform_ui_tests",
        "description": "platform_ui_tests"
      },
      {
        "name": "testcases",
        "description": "testcases"
      },
      {
        "name": "IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement",
        "description": "IntoLinkedBankLimitationsEDJAccountsMissingClientAgreement"
      }
    ],
    "narrative": "",
    "type": "feature"
  },
  "title": "\u0027Into\u0027 EJ Account transfer: Verify Account with ACCT_SVC_STAT_CD \u003d \u0027B\u0027 ACCT_SVC_TY_CD \u003d \u0027UM\u0027",
  "coreIssues": [
    "ATMT-18342",
    "ATMT-23446",
    "ATMT-25307",
    "ATMT-31453"
  ],
  "tags": [
    {
      "name": "Priority-3c",
      "type": "tag",
      "displayName": "Priority-3c"
    },
    {
      "name": "Microsoftedge",
      "type": "context",
      "displayName": "Microsoftedge"
    },
    {
      "name": "DB-test-data",
      "type": "tag",
      "displayName": "DB-test-data"
    },
    {
      "name": "Platform1-Regression",
      "type": "tag",
      "displayName": "Platform1-Regression"
    },
    {
      "name": "new-old-ui",
      "type": "tag",
      "displayName": "new-old-ui"
    }
  ],
  "startTime": "2025-10-06T10:02:58.467662271-05:00[America/Chicago]",
  "endTime": "2025-10-06T10:03:30.510260352-05:00[America/Chicago]",
  "duration": 5999,
  "projectKey": "",
  "sessionId": "ec4a53b4d84342ab8a20edaa64c4c0bf",
  "driver": "remote",
  "isManualTestingUpToDate": false,
  "context": "microsoftedge",
  "manual": false,
  "testSource": "JUnit5",
  "order": 0,
  "result": "SUCCESS",
  "issues": [
    "ATMT-18342",
    "ATMT-23446",
    "ATMT-25307",
    "ATMT-31453"
  ],
  "scenarioOutline": ""
}